<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>搭建个人博客 github + hexo + NexT</title>
    <url>/2020/09/09/build_your_blog_hexo/</url>
    <content><![CDATA[<h1 id="搭建个人博客-hexo"><a href="#搭建个人博客-hexo" class="headerlink" title="搭建个人博客 hexo"></a>搭建个人博客 hexo</h1><p>这篇文章介绍从0到1搭建个人博客, 基于github + hexo + NexT，完全免费也美观，对于个人博客来说完全够了，半天内可以搭建并自定义完成个人博客，推荐！<br><a id="more"></a></p>
<ul>
<li>基于github与hexo搭建博客，完全免费</li>
<li>hexo提供许多现成主题模板</li>
<li>经过配置后可使用latex。</li>
</ul>
<h2 id="建立-hexo-博客站点步骤"><a href="#建立-hexo-博客站点步骤" class="headerlink" title="建立 hexo 博客站点步骤"></a>建立 hexo 博客站点步骤</h2><ul>
<li>github 新建一个repository， 名称为 <code>你的GitHub用户名.github.io</code></li>
<li>确保NodeJS的安装目录与Git的安装目录在同一个文件夹下（<a href="https://stackoverflow.com/questions/45513441/npm-command-not-found-in-windows-10">参考</a>）</li>
<li>下载并安装NodeJS</li>
<li>下载并安装Git for Windows</li>
<li>打开Git bash 配置Git的用户名与邮箱为github用户名与邮箱，生成本地ssh并复制到github ssh上 （第一次使用Git设置，如果已经设置过，可以跳过该步骤）</li>
<li>选定一个文件夹作为存放博客文件的目录，以管理员身份打开Git bash， 并 cd 到该目录</li>
<li>导入nodejs路径到<code>git export PATH=$PATH:&quot;/D/path_to_nodejs&quot;</code> (windows path)</li>
<li>输入命令 <code>npm install hexo-cli -g</code></li>
<li>输入命令 <code>hexo init blog</code></li>
<li>输入命令 <code>cd blog</code></li>
<li>输入命令 <code>npm install</code></li>
<li>输入命令 <code>hexo s</code><br>s是server的缩写，表示启动本地服务器。默认情况下，访问网址是：<a href="http://localhost:4000/">http://localhost:4000/</a> 。如果成功的话可以看见官方的默认页面。</li>
<li>在blog文件夹下编辑_config.yml, 找到相应字段，修改如下<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">url:</span> <span class="string">https://你的GitHub用户名.github.io/</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">https://github.com/你的GitHub用户名/你的GitHub用户名.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure></li>
<li>输入命令<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br><span class="line">hexo clean</span><br><span class="line">hexo g -d</span><br></pre></td></tr></table></figure></li>
<li>10几20分钟后打开浏览器，输入你的网站地址：<a href="https://你的GitHub用户名.github.io/，就可以看到你的网站已经上线了">https://你的GitHub用户名.github.io/，就可以看到你的网站已经上线了</a></li>
</ul>
<h2 id="新建并发布文章"><a href="#新建并发布文章" class="headerlink" title="新建并发布文章"></a>新建并发布文章</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">hexo n <span class="string">&quot;newblog&quot;</span></span><br><span class="line">hexo clean</span><br><span class="line">hexo g -d</span><br></pre></td></tr></table></figure>
<p>在Git bash 命令行输入 hexo n “newblog”, 就可以看到在blog/source/_posts目录下多了一个newblog.md文件。写完之后生成、部署即可(运行 hexo g -d)。<br>要删除文章的话，直接把源文件删除即可（确保至少有一篇文章存在，否则可能出错）<br>同步到github.io通常要等待一段时间</p>
<h2 id="常用的配置"><a href="#常用的配置" class="headerlink" title="常用的配置"></a>常用的配置</h2><h3 id="更换主题"><a href="#更换主题" class="headerlink" title="更换主题"></a>更换主题</h3><p>Hexo有许多好看的主题，以NexT主题为例：<br>下载主题：Releases · theme-next/hexo-theme-next<br>解压所下载的压缩包至站点的 themes 目录下，并将解压后的文件夹名称（hexo-theme-next-x.x.x）更改为 next<br>打开站点配置文件_config.yml，找到 theme 字段，并将其值更改为 next ；找到 language 字段，并将其值更改为 zh-CN（在themes/next/languages目录下可查看主题支持的语言）<br>在切换主题之后，使用 hexo clean 命令来清除 Hexo 的缓存</p>
<h3 id="LaTeX支持"><a href="#LaTeX支持" class="headerlink" title="LaTeX支持"></a>LaTeX支持</h3><p><a href="https://theme-next.js.org/docs/third-party-services/math-equations.html">配置latex</a></p>
<h3 id="插入图片"><a href="#插入图片" class="headerlink" title="插入图片"></a>插入图片</h3><p>安装一个能上传本地图片的插件：<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">npm install https://github.com/CodeFalling/hexo-asset-image --save</span><br></pre></td></tr></table></figure><br>我一般会atom写markdown，多个blog的图片统一放在assets中</p>
<h3 id="文章添加tags-amp-category"><a href="#文章添加tags-amp-category" class="headerlink" title="文章添加tags&amp;category"></a>文章添加tags&amp;category</h3><p>设置blog\scaffolds\post, 每次 hexo n “new_blog” 默认会出现的标题<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: 两数之和</span><br><span class="line">date: 2020-09-09 12:12:57</span><br><span class="line">categories:</span><br><span class="line">- leetcode</span><br><span class="line">tags:</span><br><span class="line">- 双指针</span><br><span class="line">- 哈希表</span><br><span class="line">---</span><br></pre></td></tr></table></figure></p>
<h3 id="更换博客图片背景，设置透明度"><a href="#更换博客图片背景，设置透明度" class="headerlink" title="更换博客图片背景，设置透明度"></a>更换博客图片背景，设置透明度</h3><p>在 根目录/source下新建_data/styles.styl, 设置如下,<br>背景图片放在 根目录/source/images/<br>字体颜色等均可在这里改，覆盖全局参数<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">// Custom styles.</span><br><span class="line">// 整体背景设置</span><br><span class="line">body &#123;</span><br><span class="line">  background:url(/images/1_compress.jpg);// 设定背景图片,images同处于blog/<span class="built_in">source</span>文件夹下</span><br><span class="line"> 	background-repeat: no-repeat;// 设定背景图片非重复填充</span><br><span class="line">    background-attachment:fixed;// 设置背景图片不随页面滚动</span><br><span class="line">    background-position:50% 50%;// 设置背景图片位置</span><br><span class="line">  background-size: cover// 设置保持图像的纵横比并将图像缩放成将完全覆盖背景定位区域的最小大小</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 文章内容的透明度设置</span><br><span class="line">.content-wrap &#123;</span><br><span class="line">  opacity: 0.86;</span><br><span class="line">  color: <span class="comment">#000000;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// sidebar侧边工具栏样式属性</span><br><span class="line">.sidebar&#123;</span><br><span class="line">  opacity: 0.86</span><br><span class="line">  color: <span class="comment">#000000;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 页面头样式属性</span><br><span class="line">.header-inner &#123;</span><br><span class="line">  background: rgba(255,255,255,0.86);</span><br><span class="line">  color: <span class="comment">#000000;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 页脚颜色</span><br><span class="line">.footer &#123;</span><br><span class="line">  color: <span class="comment">#DCDCDC;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 搜索框（local-search）的透明度设置</span><br><span class="line">.popup &#123;</span><br><span class="line">  opacity: 0.86;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 向上箭头</span><br><span class="line">.back-to-top &#123;</span><br><span class="line">    opacity: 1;</span><br><span class="line">    line-height: 2.8;</span><br><span class="line">    right: 35px;</span><br><span class="line">    padding-right: 5px;</span><br><span class="line">    padding-left: 5px;</span><br><span class="line">    padding-top: 2.5px;</span><br><span class="line">    padding-bottom: 2.5px;</span><br><span class="line">    background-color: rgba(28, 28, 28, 1);</span><br><span class="line">    border-radius: 5px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="左侧toc导航栏bug"><a href="#左侧toc导航栏bug" class="headerlink" title="左侧toc导航栏bug"></a>左侧toc导航栏bug</h3><p>hexo的toc插件导致next自带的目录无法跳转，将hexo-toc移除之后，此问题便可解决。<br>npm remove hexo-toc —save<br>注意cache问题， hexo n “test” 新建一个去测试。</p>
<h3 id="next主题美化与第三方插件"><a href="#next主题美化与第三方插件" class="headerlink" title="next主题美化与第三方插件"></a>next主题美化与第三方插件</h3><p>参考：</p>
<ul>
<li><a href="https://theme-next.js.org/docs/">NexT文档</a></li>
<li><a href="http://eternalzttz.com/hexo-next.html">这个博客里有一系列教程,推荐!注意有些设置是低版本的</a></li>
<li><a href="https://tding.top/archives/42c38b10.html">hexo NexT 主题美化，注意有些设置是低版本的</a></li>
<li><a href="https://tding.top/archives/58cff12b.html">Hexo-NexT 添加打字特效、鼠标点击特效</a></li>
<li><a href="https://jrbcode.gitee.io/posts/c13e56cd.html">时钟特效</a></li>
<li><a href="https://blog.csdn.net/weizhixiang/article/details/105112467">点击文章后从头开始阅读全文</a></li>
<li><a href="https://blog.csdn.net/chrishly3/article/details/103992492">next主题添加背景图片(无custom.styl情况)</a></li>
</ul>
<h3 id="性能问题"><a href="#性能问题" class="headerlink" title="性能问题"></a>性能问题</h3><p>一开始我启用了 <a href="https://www.tidio.com/panel/settings/live-chat/appearance">tidio</a> 在线聊天，busuanzi 站点访问统计<br>分析网页加载性能时，瓶颈主要在他们。介于对我来说，他们没那么重要，我就把他们都disable了，网页加载快了很多。</p>
<h3 id="关于TOC中文跳转失效的bug"><a href="#关于TOC中文跳转失效的bug" class="headerlink" title="关于TOC中文跳转失效的bug"></a>关于TOC中文跳转失效的bug</h3><p>NexT 7.3 以后版本自带toc了，在主题的config.yml中enable即可。<br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">toc:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br></pre></td></tr></table></figure><br>但是遇到的问题是，当文章目录 toc 含有中文时，点击左侧目录栏无法正常跳转，查了很多资料，都没能解决（例如卸载hexo-toc（这东西就不用装）,标题文件命名规则等）。结果发现原来是js解析id的问题。。<br>打开node_modules\hexo\lib\plugins\helper\toc.js，修改如下<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// const href = id ? `#$&#123;encodeURL(id)&#125;` : null;</span></span><br><span class="line"><span class="keyword">const</span> href = id ? <span class="string">`#<span class="subst">$&#123;id&#125;</span>`</span> : <span class="literal">null</span>;</span><br></pre></td></tr></table></figure><br>注意如果标题中含有空格，会被解析成-。但这些都不影响使用，把encodeURL去掉，就一切正常了。</p>
]]></content>
      <categories>
        <category>hexo博客搭建</category>
      </categories>
      <tags>
        <tag>hexo博客搭建</tag>
      </tags>
  </entry>
</search>
